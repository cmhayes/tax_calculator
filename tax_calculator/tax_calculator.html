<!DOCTYPE html>
<html>
<head>
	<title>Tax Calculator</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/app.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
</head>

<body>
	<div class="container-fluid">
		<h1>Tax Calculator</h1>
		<hr class="featurette-divider" />
		<div class="row-fluid">
			<div class="span7">
				<h3>Discover what NC's tax reform options mean for you</h3>
				<p>Description goes here</p>
				<div class="btn-group" data-toggle="buttons-radio">
					<button type="button" id="choice1" class="btn btn-large" data-toggle="button">Current Tax Rates<i class="icon-ok icon-white hide"></i></button>
					<div id="detail1" class="hide" style="font-size:21px;">Description 1</div>
					<button type="button" id="choice2" class="btn btn-large" data-toggle="button">No Income Tax, Increased Sales Tax<i class="icon-ok icon-white hide"></i></button>
					<div id="detail2" class="hide" style="font-size:21px;">Description 2</div>
					<button type="button" id="choice3" class="btn btn-large data-toggle="button"">No Sales Tax, Increased Income Tax<i class="icon-ok icon-white hide"></i></button>
					<div id="detail3" class="hide" style="font-size:21px;">Description 3</div>
					<br>
				</div>
				<div id="formula" class="well"><h4>What you pay:</h4>
					<h3 id="formula_displayed"><span id="formula_income"></span></h3>
					<h1 id="result_displayed" class="">2839.88</h1>
				</div>
				<div class="calculator well">
					<h2 id="question1">1. How do you normally file taxes?</h2>
					<br>
					<div class="btn-group" data-toggle="buttons-radio">
					<div class="row-fluid">
						<div class="span6">
							<button id="tax1" class="btn btn-large btn-block" data-toggle="button" style="padding: 25px;">Single<i class="icon-ok icon-white hide"></i></button>
						</div>
						<div class="span6">
							<button id="tax2" class="btn btn-large btn-block" data-toggle="button" type="radio">Head of Household<i class="icon-ok icon-white hide"></i></button>
						</div>
					</div>
					<div class="row-fluid">
						<div class="span6">
							<button id="tax3" class="btn btn-large btn-block" data-toggle="button" type="radio">Married filing jointly/Qualifying widow(er)<i class="icon-ok icon-white hide"></i></button>
						</div>
						<div class="span6">
							<button id="tax4" class="btn btn-large btn-block" data-toggle="button" type="radio">Married filing separately<i class="icon-ok icon-white hide"></i></button>
						</div>
					</div>
					</div>
					<h2 id="question2">2. How much do you make per year?</h2>
					<br>
					<form onsubmit="return false">
					  <fieldset>
					    <div class="input-prepend">
					  		<span class="add-on">$</span>
					    	<input id="input2" class="span8" type="number" placeholder="Average: $42,000" min="0">
					    </div>
					  </fieldset>
					</form>
					<h2 id="question3">3. On average, how much do you spend on groceries in a week?</h2>
					<br>
					<form onsubmit="return false">
					  <fieldset>
					    <div class="input-prepend">
					  		<span class="add-on">$</span>
					    	<input id="input3" class="span8" type="number" placeholder="Average: $100" min="0">
					    </div>
					  </fieldset>
					</form>
					<h2 id="question4">4. On average, how much do you spend on taxed items per week?</h2>
					<br>
					<form onsubmit="return false">
					  <fieldset>
					    <div class="input-prepend">
					  		<span class="add-on">$</span>
					    	<input id="input4" class="span8" type="number" placeholder="Average: $50" min="0">
					    </div>
					  </fieldset>
					</form>
					<h2 id="question5">5. On average, how much do you spend on taxed services in a week?</h2> 
					<br>
					<form onsubmit="return false">
					  <fieldset>
					  	<div class="input-prepend">
					  		<span class="add-on">$</span>
					    	<input id="input5" class="span8" type="number" placeholder="Average: $200" min="0">
					    </div>
					  </fieldset>
					</form>
				</div>
			</div>
			<div class="span5">
				<div class="well">
					graphs and visuals go here?
				</div>
			</div>
		</div>
	</div>

	<script>
	var income;
	var income_tax_rate;
	var income_tax_constant;
	var sales_tax;
	var grocery_tax;
	var grocery_bill;
	var spent_on_taxable_items;
	var spent_on_taxable_services;
		
	$('#choice').click(function() {
		if ($(this).not('.active')) {
			$(this).addClass('btn-success');
			$('#choice2, #choice3').removeClass('btn-success');
			$('#choice1 i').removeClass('hide');
			$('#choice2 i, #choice3 i').addClass('hide');
			$('#detail1').removeClass('hide');
			$('#detail2, #detail3').addClass('hide');
			$('#question5').addClass('muted');
			$('#question3, #question4').removeClass('muted');
			document.getElementById('input3').disabled=false;
			document.getElementById('input4').disabled=false;
			document.getElementById('input5').disabled=true;
		};
	});

	$('#choice2').click(function() {
		if ($(this).not('.active')) {
			$(this).addClass('btn-success');
			$('#choice1, #choice3').removeClass('btn-success');
			$('#choice2 i').removeClass('hide');
			$('#choice1 i, #choice3 i').addClass('hide');
			$('#detail2').removeClass('hide');
			$('#detail1, #detail3').addClass('hide');
			$('#question3, #question5, #question4').removeClass('muted');
			document.getElementById('input3').disabled=false;
			document.getElementById('input4').disabled=false;
			document.getElementById('input5').disabled=false;	
		};
	});

	$('#choice3').click(function() {
		if ($(this).not('.active')) {
			$(this).addClass('btn-success');
			$('#choice1, #choice2').removeClass('btn-success');
			$('#choice3 i').removeClass('hide');
			$('#choice1 i, #choice2 i').addClass('hide');
			$('#detail3').removeClass('hide');
			$('#detail1, #detail2').addClass('hide');
			$('#question3, #question4, #question5').addClass('muted');
			document.getElementById('input3').disabled=true;
			document.getElementById('input4').disabled=true;
			document.getElementById('input5').disabled=true;
			};
		});

	$('#tax1').click(function() {
		if (income > 60000){
			income_tax_rate = .0775;
			income_tax_constant = 4072.5;
		}else if (income > 12750 && income >=60000) {
			income_tax_rate = .07;
			income_tax_constant = 765;
		}else{
			income_tax_rate = .06;
		};

		if ($(this).not('.active')) {
			$(this).addClass('btn-success');
			$('#tax2, #tax3, #tax4').removeClass('btn-success');
			$('#tax1 i').removeClass('hide');
			$('#tax2 i, #tax3 i, #tax4 i').addClass('hide');
		};

	});

	$('#tax2').click(function() {
		if ($(this).not('.active')) {
			$(this).addClass('btn-success');
			$('#tax1, #tax3, #tax4').removeClass('btn-success');
			$('#tax2 i').removeClass('hide');
			$('#tax1 i, #tax3 i, #tax4 i').addClass('hide');
		}
	});

	$('#tax3').click(function() {
		if ($(this).not('.active')) {
			$(this).addClass('btn-success');
			$('#tax1, #tax2, #tax4').removeClass('btn-success');
			$('#tax3 i').removeClass('hide');
			$('#tax1 i, #tax2 i, #tax4 i').addClass('hide');
		}
	});

	$('#tax4').click(function() {

		if ($(this).not('.active')) {
			$(this).addClass('btn-success');
			$('#tax1, #tax2, #tax3').removeClass('btn-success');
			$('#tax4 i').removeClass('hide');
			$('#tax1 i, #tax2 i, #tax3 i').addClass('hide');
		}
	});

	$('input').keyup(function(){ 
		$('#formula_income').empty();
		income = $('#input2').val();
		grocery_bill = $('#input3').val();
		spent_on_taxable_items = $('#input4').val();
		spent_on_taxable_services = $('#input5').val();
		$('#formula_income').append('['+income_tax_rate+'('+income+ ' + ' +grocery_bill+ ')]');
	});
	
	</script>
</body>
</html>
